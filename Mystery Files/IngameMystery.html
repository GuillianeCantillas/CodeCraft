<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=2.0">
    <title>Mystery</title>
    <link rel="stylesheet" href="IngameMystery.css">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Russo+One&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Bungee+Inline&family=Russo+One&display=swap" rel="stylesheet">
</head>

<body>
    <div class="homeheader">
        <h1>CodeCraft</h1>
        <h2>by </h2>
        <h3>CyberPink</h3>
    </div>

    <div id="pixel-art-container1">
        <img id="img36" src="level2_final1.png" class="pixel-art-frame active">
        <img id="img37" src="level2_final2.png" class="pixel-art-frame">
        <img id="img38" src="level2_final3.png" class="pixel-art-frame">
        <img id="img39" src="level2_final4.png" class="pixel-art-frame">
        <img id="img40" src="level2_final5.png" class="pixel-art-frame">
        <img id="img41" src="level2_final6.png" class="pixel-art-frame">
        <img id="img42" src="level2_final7.png" class="pixel-art-frame">
        <img id="img43" src="level2_final8.png" class="pixel-art-frame">
        <img id="img44" src="level2_final9.png" class="pixel-art-frame">
        <img id="img45" src="level2_final10.png" class="pixel-art-frame">
        <img id="img46" src="level2_final11.png" class="pixel-art-frame">
        <img id="img47" src="level2_final12.png" class="pixel-art-frame">
        <img id="img48" src="level2_final13.png" class="pixel-art-frame">
        <img id="img49" src="level2_final14.png" class="pixel-art-frame">
        <img id="img50" src="level2_final15.png" class="pixel-art-frame">
        <img id="img51" src="level2_final16.png" class="pixel-art-frame">
        <img id="img52" src="level2_final17.png" class="pixel-art-frame">
        <img id="img53" src="level2_final18.png" class="pixel-art-frame">
        <img id="img54" src="level2_final19.png" class="pixel-art-frame">
        <img id="img55" src="level2_final20.png" class="pixel-art-frame">
        <img id="img56" src="level2_final21.png" class="pixel-art-frame">
        <img id="img57" src="level2_final22.png" class="pixel-art-frame">
        <img id="img58" src="level2_final23.png" class="pixel-art-frame">
        <img id="img59" src="level2_final24.png" class="pixel-art-frame">
        <img id="img60" src="level2_final25.png" class="pixel-art-frame">
        <img id="img61" src="level2_final26.png" class="pixel-art-frame">
        <img id="img62" src="level2_final27.png" class="pixel-art-frame">
        <img id="img63" src="level2_final28.png" class="pixel-art-frame">
        <img id="img64" src="level2_final29.png" class="pixel-art-frame">
        <img id="img65" src="level2_final30.png" class="pixel-art-frame">
        <img id="img66" src="level2_final31.png" class="pixel-art-frame">
        <img id="img67" src="level2_final32.png" class="pixel-art-frame">
        <img id="img68" src="level2_final33.png" class="pixel-art-frame">
        <img id="img69" src="level2_final34.png" class="pixel-art-frame">
        <img id="img70" src="level2_final35.png" class="pixel-art-frame">
        <img id="img71" src="level2_final36.png" class="pixel-art-frame">
        <img id="img72" src="level2_final37.png" class="pixel-art-frame">
        <img id="img73" src="level2_final38.png" class="pixel-art-frame">
        <img id="img74" src="level2_final39.png" class="pixel-art-frame">
        <img id="img75" src="level2_final40.png" class="pixel-art-frame">
        <img id="img76" src="level2_final41.png" class="pixel-art-frame">
        <img id="img77" src="level2_final42.png" class="pixel-art-frame">
        <img id="img78" src="level2_final43.png" class="pixel-art-frame">
        <img id="img79" src="level2_final44.png" class="pixel-art-frame">
        <img id="img80" src="level2_final45.png" class="pixel-art-frame">
        <img id="img81" src="level2_final46.png" class="pixel-art-frame">


    <div class="buttons">
        <button type="reset" class="button1" onclick="resetForm()">Reset</button>
        <button type="button" class="button2" onclick="undoInput()">Undo</button>
        <button type="button" class="button3" onclick="showHint()">Hint</button>
    </div>

    <div id="score-container">
        <p>Score: <span id="score">0</span></p>
    </div>

    <div id="hintBox" style="display:none;">
        <p id="hintText"></p>
    </div>

    <div class="form">
        <form id="answerForm" onsubmit="checkAnswer5(); return false;">
            <input type="text" id="textbox" name="textbox" placeholder="Enter your answer here: " oninput="updateSentence5();"><br>
            <span id="output" style="font-size: 14px;"></span><br>
            <input type="submit" value="Submit" id="submitbutton">
        </form>
    </div>

</div>
    
    <div class="text-box">
        <div id="sentence1" class="sentence show">You've just cracked a tough case and are about to log your findings into your computer. <br><br> </div>
        <div id="sentence2" class="sentence"> When suddenly, an unexpected message appears on your screen.<br><br></div>
        <div id="sentence3" class="sentence"> "Do you wish to accept this case?" <br><br></div>
        <div id="sentence4" class="sentence"> Intrigued, you choose to accept.<br><br></div>
        <div id="sentence5" class="sentence">However, when you try to open the file, it doesn't budge. It's locked tight, requiring a password to proceed.<br><br>
            import os<br>
            import getpass<br><br>
            correct_password = "tamarraw1928" <br><br>
            def check_password():<br>
            return getpass.getpass("Enter password to access the folder: ") == _____________ <br>
            def access_folder(folder_path): <br>
            if os.access(folder_path, os.R_OK): <br>
            for filename in os.listdir(folder_path): <br>
            print(filename)  <br>
            folder_path = "/path/to/locked/folder"  <br>
            if check_password(): <br>
            access_folder(folder_path) <br>
        </div>
        <div id="sentence6" class="sentence"> The `correct_password` variable stores the predefined password, which is compared against the user input in the `check_password` function to grant or deny access to the folder.<br><br>
    </div>

    <div id="toast" class="toast">
        <img src="Ranking (1)2.png" alt="Toast Image">
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const container = document.getElementById('pixel-art-container1');
            const button1 = document.querySelector('.button1');
            const button2 = document.querySelector('.button2');
            const button3 = document.querySelector('.button3');
            const scoreElement = document.getElementById('score');
            const scores = document.getElementById('score-container');
            const hinting = document.getElementById('hintBox');
            let score = 0;
            let hintIndex = 0;
            const hints = [
            "Hint 1: It is a variable.",
            "Hint 2: It stores the password required to access the folder.",
            "Hint 3: It is written in lowercase and initialized to tamarraw1928."];

            function updateButtonPositions() {
                const containerRect = container.getBoundingClientRect();
                
                button1.style.left = `${containerRect.left + -430}px`;
                button1.style.top = `${containerRect.top + 510}px`; //Reset

                button2.style.left = `${containerRect.left + -430}px`;
                button2.style.top = `${containerRect.top + 470}px`; //Undo

                button3.style.left = `${containerRect.left + 660}px`;
                button3.style.top = `${containerRect.top + 510}px`; // Hint

                scores.style.left = `${containerRect.left + -500}px`;
                scores.style.top = `${containerRect.top + 5}px`; // Score Board

                hinting.style.left = `${containerRect.left + 710}px`;
                hinting.style.top = `${containerRect.top + 340}px`; // Hints na talaguh
            }

            updateButtonPositions();
            window.addEventListener('resize', updateButtonPositions);
            window.addEventListener('scroll', updateButtonPositions);

    let currentFrameIndex = 0;
    let interval = 1000;
    const frames2 = container.querySelectorAll(".pixel-art-frame");
    let animationInterval;

    function showNextFrame(frames) {
        frames[currentFrameIndex].classList.remove("active");
        currentFrameIndex = (currentFrameIndex + 1) % frames.length;
        frames[currentFrameIndex].classList.add("active");

        // Stop the animation when reaching the last frame
        if (frames[currentFrameIndex].id === 'img81') {
            clearInterval(animationInterval);
        }
    }

    function startAnimation(frames) {
        currentFrameIndex = 0; // Reset index
        frames[currentFrameIndex].classList.add("active");
        animationInterval = setInterval(() => showNextFrame(frames), interval);
    }

        startAnimation(frames2); 
   

            setTimeout(() => {
                        document.getElementById("sentence2").style.display = "block";
                        document.getElementById("sentence2").classList.add("show");
                    }, 5000);

             setTimeout(() => {
                        document.getElementById("sentence3").style.display = "block";
                        document.getElementById("sentence3").classList.add("show");
                    }, 15000);
                    
            setTimeout(() => {
                        document.getElementById("sentence4").style.display = "block";
                        document.getElementById("sentence4").classList.add("show");
                    }, 23000);  

            setTimeout(() => {
                        document.getElementById("sentence5").style.display = "block";
                        document.getElementById("sentence5").classList.add("show");
                    }, 44000);     

            window.checkAnswer5 = function () {
                const userInput = document.getElementById("textbox").value.trim().toLowerCase();
                const correctAnswer = "correct_password";
                const spanClass = userInput === correctAnswer ? 'correct' : 'incorrect';
                const sentence = document.getElementById("sentence5");

                if (userInput === correctAnswer) {
                    sentence.innerHTML = `However, when you try to open the file, it doesn't budge. It's locked tight, requiring a password to proceed. <br><br> import os<br>
            import getpass<br><br>
            correct_password = "tamarraw1928" <br><br>
            def check_password():<br><br>return getpass.getpass("Enter password to access the folder: ") == <span class='${spanClass}'>${userInput}</span> <br>def access_folder(folder_path): <br>
            if os.access(folder_path, os.R_OK): <br>
            for filename in os.listdir(folder_path): <br>
            print(filename)  <br><br>
            folder_path = "/path/to/locked/folder"  <br>
            if check_password(): <br>
            access_folder(folder_path) <br><br>`;
            document.getElementById("textbox").disabled = true;
            document.getElementById("submitbutton").disabled = true;

                    score += 10;
                    scoreElement.textContent = score;
                    localStorage.setItem("score", score); // localStorage

                    showToast();

                    setTimeout(() => {
                        document.getElementById("sentence6").style.display = "block";
                        document.getElementById("sentence6").classList.add("show");
                    }, 1000);

                     setTimeout(() => {
                        window.location.href = "https://guillianecantillas.github.io/CodeCraft/Mystery%20Files/IngameMystery2.html";
                    }, 9000);
                } else {
                    sentence.innerHTML = `However, when you try to open the file, it doesn't budge. It's locked tight, requiring a password to proceed. <br><br> import os<br>
            import getpass<br><br>
            correct_password = "tamarraw1928" <br><br>
            def check_password():<br><br>return getpass.getpass("Enter password to access the folder: ") == <span class='${spanClass}'>${userInput}</span> <br>def access_folder(folder_path): <br>
            if os.access(folder_path, os.R_OK): <br>
            for filename in os.listdir(folder_path): <br>
            print(filename)  <br><br>
            folder_path = "/path/to/locked/folder"  <br>
            if check_password(): <br>
            access_folder(folder_path) <br><br>`;
                    score - 2;
                    scoreElement.textContent = score;
                }
            };

            window.updateSentence5 = function () {
                const userInput = document.getElementById("textbox").value.trim();
                const sentence = document.getElementById("sentence5");
                sentence.innerHTML = `However, when you try to open the file, it doesn't budge. It's locked tight, requiring a password to proceed. <br><br> import os<br>
            import getpass<br><br>
            correct_password = "tamarraw1928" <br><br>
            def check_password():<br><br>return getpass.getpass("Enter password to access the folder: ") == ${userInput}<br> def access_folder(folder_path): <br>
            if os.access(folder_path, os.R_OK): <br>
            for filename in os.listdir(folder_path): <br>
            print(filename)  <br><br>
            folder_path = "/path/to/locked/folder"  <br>
            if check_password(): <br>
            access_folder(folder_path) <br><br>`;
            };

            window.resetForm = function () {
                document.getElementById("answerForm").reset();
                document.getElementById("sentence5").innerHTML = `However, when you try to open the file, it doesn't budge. It's locked tight, requiring a password to proceed.<br><br>
            import os<br>
            import getpass<br><br>
            correct_password = "tamarraw1928" <br><br>
            def check_password():<br>
            return getpass.getpass("Enter password to access the folder: ") == _____________ <br>
            def access_folder(folder_path): <br>
            if os.access(folder_path, os.R_OK): <br>
            for filename in os.listdir(folder_path): <br>
            print(filename)  <br><br>
            folder_path = "/path/to/locked/folder"  <br>
            if check_password(): <br>
            access_folder(folder_path) <br>`;

                document.getElementById("textbox").disabled = false;
                document.getElementById("sentence6").style.display = "none";
                document.getElementById("sentence6").classList.remove("show");
                // Reset the score to 0 when the form is reset
                score = 0;
                scoreElement.textContent = score;
            };

            window.undoInput = function () {
                const textbox = document.getElementById("textbox");
                textbox.value = textbox.value.slice(0, -1);
                updateSentence5();
            };

        window.showHint = function () {
            const hintBox = document.getElementById("hintBox");
            const hintText = document.getElementById("hintText");

            if (hintIndex < hints.length) {
                hintText.textContent = hints[hintIndex];
                hintBox.style.display = "block";
                hintIndex++;
            } else {
                hintText.textContent = "No more hints available.";
            }};

            function showToast() {
    var toast = document.getElementById("toast");
    toast.className = "toast show";
    setTimeout(function(){ toast.className = toast.className.replace("show", ""); }, 5000);
}
        });

</script>
</body>
</html>
