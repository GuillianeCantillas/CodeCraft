<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Horror</title>
    <link rel="stylesheet" href="IngameHorror0.css">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Russo+One&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Bungee+Inline&family=Russo+One&display=swap" rel="stylesheet">
</head>

<body>
    <div class="homeheader">
        <h1>CodeCraft</h1>
        <h2>by </h2>
        <h3>CyberPink</h3>
    </div>

    <div class="popup">
        <button id="close">&times;</button>
        <h2>This Is The Title</h2>
        <p>Welcome to horror game! The tutorial will start once you click the ready button.</p>
        <a href="#" id="leave" onclick="toggle('blur1', 'popup1'), showPopup()">Let's Go</a>
    </div>

<div class="container1" id="blur1">
    <div class= "noblur" id="pixel-art-container1">
        <img id="img2" src="2.png" class="pixel-art-frame active">
        <img id="img3" src="3.png" class="pixel-art-frame">
        <img id="img4" src="4.JPEG" class="pixel-art-frame">
        <img id="img5" src="5.JPEG" class="pixel-art-frame">
        <img id="img6" src="6.png" class="pixel-art-frame">
        <img id="img7" src="7.png" class="pixel-art-frame">
        <img id="img8" src="8.JPEG" class="pixel-art-frame">
        <img id="img9" src="9.JPEG" class="pixel-art-frame">
        <img id="img10" src="10.png" class="pixel-art-frame"> 
    </div>

<div class="container2" id="blur2">
    <div class="content buttons">
            <button type="reset" class="button1" onclick="resetForm()">Reset</button>
            <button type="button" class="button2" onclick="undoInput()">Undo</button>
            <button type="button" class="button3" onclick="">Hint</button>
        </div>
    </div>

    <div class="content text-box">
        <div id="sentence1" class="sentence show">You awaken to a cold feeling on your back. As you open your eyes, you are met with a lightbulb continuously turning on and off. <br><br> </div>
        <div id="sentence2" class="sentence">Trying to adjust your eyes to the surroundings, you notice that you're in a room.
            There's a gray and maroon wall, decorated with a shelf and some books as well as beside the bed where you awaken, a sink and small mirror.<br><br>
        </div>
        <div id="sentence3" class="sentence"> By the end of the room, a large steel door can be seen. You decided to walk towards the door.<br><br>
        </div>
        <div id="sentence4" class="sentence"> The door seems to be missing a small passcode, <br><br>
            passcode = new File ("C:\\dungeon\\LargeSteelDoortxt");<br><br>
            public void __________ (passcode) throws IOException <br><br>
        </div>
        <div id="sentence5" class="sentence"> The open() method, launches the associated application to open a file. It takes a file as an argument.<br><br>
    </div>

        <div class="context form">
            <form id="answerForm" onsubmit="checkAnswer4(); return false;">
                <input type="text" id="textbox" name="textbox" placeholder="Enter your answer here: " oninput="updateSentence4();"><br>
                <span id="output" style="font-size: 14px;"></span><br>
                <input type="submit" value="Submit">
            </form>
        </div>

<div id="popup1">
    <h2>The Art, it portrays the narration. </h2>
    <p>esfwcwewc</p>
    <b href="#" onclick="toggle('blur1', 'popup1')">Okay</b>
</div>

<div id="popup2">
    <h2>Lorem ipsum dolor sit amet, consectetur adipisicing elit</h2>
    <p>ed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim ven quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit ess cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
    <c href="#" onclick="toggle('blur2', 'popup2')">Okay</b>
</div>


<script>
        window.addEventListener("load", function(){
    setTimeout(
        function open(event){
            document.querySelector(".popup").style.display = "block";
        }, 1000 )
    });

    document.querySelector("#leave").addEventListener("click", function(){
        document.querySelector(".popup").style.display = "none";
    });

    document.querySelector("#close").addEventListener("click", function() {
        document.querySelector(".popup").classList.remove("active");
        });

    document.querySelector("#leave").addEventListener("click", function() {
        toggleBlurAndPopup('blur1', 'popup1');
    });

    function showPopup() {
            const popup = document.querySelector('.popup');
            const glowElement = document.querySelector('pixel-art-container1');
            
            popup.style.display = 'block';
            pixel-art-container1.classList.add('glow');
            
            setTimeout(() => {
                pixel-art-container1.classList.remove('glow');
            }, 5000); // Adjust duration of the glow effect here
        }

        document.querySelector('#close').addEventListener('click', function() {
            document.querySelector('.popup').style.display = 'none';
        });

    function toggleBlurAndPopup(blurId, popupId) {
    var blur = document.getElementById(blurId);
    var popup = document.getElementById(popupId);

    blur.classList.toggle('active');
    popup.classList.toggle('active');
    }

    // Example function to handle sequential popup and blur transitions
    function handleNextPopup(currentPopupId, nextPopupId, blurId) {
    document.getElementById(currentPopupId).classList.remove("active");
    document.getElementById(nextPopupId).classList.add("active");
    document.getElementById(blurId).classList.add("active");
    }

        document.addEventListener("DOMContentLoaded", function () {
            const container = document.getElementById('pixel-art-container1');
            const button1 = document.querySelector('.button1');
            const button2 = document.querySelector('.button2');
            const button3 = document.querySelector('.button3');


            function updateButtonPositions() {
                const containerRect = container.getBoundingClientRect();
                
                button1.style.left = `${containerRect.left + -60}px`;
                button1.style.top = `${containerRect.top + 310}px`;

                button2.style.left = `${containerRect.left + 20}px`;
                button2.style.top = `${containerRect.top + 310}px`;

                button3.style.left = `${containerRect.left + 760}px`;
                button3.style.top = `${containerRect.top + 310}px`;
            }

            // Initial positioning
            updateButtonPositions();

            // Update positions on window resize
            window.addEventListener('resize', updateButtonPositions);

            // Update positions on scroll (if necessary)
            window.addEventListener('scroll', updateButtonPositions);

            const frames = document.querySelectorAll(".pixel-art-frame");
            let currentFrameIndex = 0;
            const interval = 1000;

            function showNextFrame() {
                frames[currentFrameIndex].classList.remove("active");
                currentFrameIndex = (currentFrameIndex + 1) % frames.length;
                frames[currentFrameIndex].classList.add("active");
            }

            function startAnimation() {
                setInterval(showNextFrame, interval);
            }

            startAnimation();
        });
    </script>
</body>

</html>
