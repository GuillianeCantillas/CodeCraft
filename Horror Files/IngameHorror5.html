<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Horror</title>
    <link rel="stylesheet" href="IngameHorror.css">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Russo+One&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Bungee+Inline&family=Russo+One&display=swap" rel="stylesheet">
</head>

<body>

    <div class="homeheader">
        <h1>CodeCraft</h1>
        <h2>by </h2>
        <h3>CyberPink</h3>
    </div>

 <div id="pixel-art-container5">
        <img id="img27" src="House1.png" class="pixel-art-frame">
        <img id="img28" src="House2.png" class="pixel-art-frame">
        <img id="img29" src="House3.png" class="pixel-art-frame">
        <img id="img30" src="House4.png" class="pixel-art-frame">
        <img id="img31" src="House5.png" class="pixel-art-frame">
        <img id="img32" src="House6.png" class="pixel-art-frame">
        <img id="img33" src="House7.png" class="pixel-art-frame"> 
        <img id="img34" src="House8.png" class="pixel-art-frame">
        <img id="img35" src="House9.png" class="pixel-art-frame">
        <img id="img36" src="HouseNoKnife1.png" class="pixel-art-frame">
        <img id="img37" src="HouseNoKnife2.png" class="pixel-art-frame">
        <img id="img38" src="HouseNoKnife3.png" class="pixel-art-frame">
        <img id="img39" src="HouseLoop1.png" class="pixel-art-frame">
        <img id="img40" src="HouseLoop2.png" class="pixel-art-frame">
        <img id="img41" src="HouseLoop3.png" class="pixel-art-frame">
        <img id="img42" src="HouseLoop4.png" class="pixel-art-frame">
        <img id="img43" src="HouseLoop5.png" class="pixel-art-frame">
        <img id="img44" src="HouseLoop6.png" class="pixel-art-frame">
        <img id="img45" src="HouseLoop7.png" class="pixel-art-frame">
        <img id="img46" src="HouseLoop8.png" class="pixel-art-frame">

        <div class="buttons">
            <button type="reset" class="button1" onclick="resetForm()">Reset</button>
            <button type="button" class="button2" onclick="undoInput()">Undo</button>
            <button type="button" class="button3" onclick="showHint()">Hint</button>
        </div>

        <div id="score-container">
            <p>Score: <span id="score">0</span></p>
        </div>

        <div id="hintBox" style="display:none;">
            <p id="hintText"></p>
        </div>

<div class="form">
    <form id="answerForm" onsubmit="checkAnswer22(); return false;">
        <input type="text" id="textbox" name="textbox" placeholder="Enter your answer here: " oninput="updateSentence22();"><br>
        <span id="output" style="font-size: 14px;"></span><br>
        <input type="submit" value="Submit"id="submitbutton">
    </form>
</div>

<div class="text-box">
    <div id="sentence16" class="sentence"> After a long while of walking in the darkness, you finally enter another room.  Wooden walls with gray pillars, decorated with various furniture.<br><br></div>
    <div id="sentence17" class="sentence"> You slowly traverse the room observing every last detail of it.<br><br></div>
    <div id="sentence18" class="sentence"> There's an eerie feeling.<br><br></div>
    <div id="sentence19" class="sentence"> The feeling like you're being watched. <br><br></div>
    <div id="sentence20" class="sentence"> Lighting strikes and everything flashes around you. That's weird, you thought since it doesnt seem to be raining. <br><br></div>
    <div id="sentence21" class="sentence"> But you continued walking, the room appears to be never ending. You'll just keep walking, you thought. It is a big house after all. <br><br></div>
    <div id="sentence22" class="sentence"> 
    public class KeepWalking { <br>
    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; public static void main(String[] args) { <br>
    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; int steps = 10; <br><br>
    
    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; do {<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; steps++;<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; System.out.println("Keep walking!");<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } _____ (true);<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; System.out.println("Another room?");<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
    }<br> 
</div>
<div id="sentence23" class="sentence"> <br> The do/while loop is a variant of the while loop. This loop will execute the code block once, before checking if the condition is true, then it will repeat the loop as long as the condition is true.  </div>

<script>
document.addEventListener("DOMContentLoaded", function () {       
    const container = document.getElementById('pixel-art-container5');
    const allImages = container.querySelectorAll('.pixel-art-frame');
    const img33 = document.getElementById('img33');
    const button1 = document.querySelector('.button1');
    const button2 = document.querySelector('.button2');
    const button3 = document.querySelector('.button3');
    const scores = document.getElementById('score-container');
    const hinting = document.getElementById('hintBox');
    const answerForm = document.getElementById('answerForm');
    
    const sentences = [
        "sentence16",
        "sentence17",
        "sentence18",
        "sentence19",
        "sentence20",
        "sentence21",
        "sentence22"
    ];

    const additionalElements = [
        button1,
        button2,
        button3,
        scores,
        hinting,
        answerForm
    ];

    allImages.forEach(img => {
        if (img.id !== 'img33') {
            img.classList.add('darken');
        }
    });

    function showSentence(id, delay) {
        setTimeout(() => {
            const sentence = document.getElementById(id);
            sentence.style.display = "block";
            sentence.classList.add("show");
        }, delay);
    }

    function flashElements() {
        sentences.forEach(id => {
            const sentence = document.getElementById(id);
            if (sentence.classList.contains('show')) {
                sentence.classList.add('flashing');
            }
        });

        additionalElements.forEach(el => {
            if (el) {
                el.classList.add('flashing');
            }
        });
    }

    function removeFlashFromElements() {
        sentences.forEach(id => {
            const sentence = document.getElementById(id);
            sentence.classList.remove('flashing');
        });

        additionalElements.forEach(el => {
            if (el) {
                el.classList.remove('flashing');
            }
        });
    }

    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                flashElements();
                img33.classList.add('brighten');
                document.body.classList.add('bg-change');
                allImages.forEach(img => {
                    if (img.id !== 'img33') {
                        img.classList.remove('darken');
                    }
                });
                setTimeout(() => {
                    img33.classList.remove('brighten');
                    document.body.classList.remove('bg-change');
                }, 3000);
            } else {
                removeFlashFromElements();
                allImages.forEach(img => {
                    if (img.id !== 'img33') {
                        img.classList.add('darken');
                    }
                });
            }
        });
    }, { threshold: 0.5 });

    observer.observe(img33);

    showSentence("sentence16", 1000);
    showSentence("sentence17", 6000);
    showSentence("sentence18", 9000);
    showSentence("sentence19", 13000);
    showSentence("sentence20", 20000);
    showSentence("sentence21", 30000);
    showSentence("sentence22", 35000);


    const updateButtonPositions = () => {
    const containerRect = container.getBoundingClientRect();
        
        document.querySelector('.button1').style.left = `${containerRect.left - 60}px`;
        document.querySelector('.button1').style.top = `${containerRect.top + 310}px`;
        
        document.querySelector('.button2').style.left = `${containerRect.left + 20}px`;
        document.querySelector('.button2').style.top = `${containerRect.top + 310}px`;
        
        document.querySelector('.button3').style.left = `${containerRect.left + 760}px`;
        document.querySelector('.button3').style.top = `${containerRect.top + 310}px`;
        
        document.getElementById('score-container').style.left = `${containerRect.left + 740}px`;
        document.getElementById('score-container').style.top = `${containerRect.top - 255}px`;
        
        document.getElementById('hintBox').style.left = `${containerRect.left + 710}px`;
        document.getElementById('hintBox').style.top = `${containerRect.top + 340}px`;
    };

    updateButtonPositions();
    window.addEventListener('resize', updateButtonPositions);
    window.addEventListener('scroll', updateButtonPositions);

    let currentFrameIndex = 0;
    let interval = 3000;
    const frames5 = container.querySelectorAll(".pixel-art-frame");
    let animationInterval;

    function showNextFrame(frames) {
        frames[currentFrameIndex].classList.remove("active");
        currentFrameIndex = (currentFrameIndex + 1) % frames.length;
        frames[currentFrameIndex].classList.add("active");
    }

    function startAnimation(frames) {
        currentFrameIndex = 0;
        frames[currentFrameIndex].classList.add("active");
        animationInterval = setInterval(() => showNextFrame(frames), interval);
    }

    setTimeout(() => {
        startAnimation(frames5);
    }, 3000);

    setTimeout(() => {
        document.getElementById("sentence16").style.display = "block";
        document.getElementById("sentence16").classList.add("show");
    }, 1000);

    setTimeout(() => {
        document.getElementById("sentence17").style.display = "block";
        document.getElementById("sentence17").classList.add("show");
    }, 6000);
    
    setTimeout(() => {
        document.getElementById("sentence18").style.display = "block";
        document.getElementById("sentence18").classList.add("show");
    }, 9000);

    setTimeout(() => {
        document.getElementById("sentence19").style.display = "block";
        document.getElementById("sentence19").classList.add("show");;
    }, 13000);

    setTimeout(() => {
        document.getElementById("sentence20").style.display = "block";
        document.getElementById("sentence20").classList.add("show");
    }, 20000);

    setTimeout(() => {
        document.getElementById("sentence21").style.display = "block";
        document.getElementById("sentence21").classList.add("show");
    }, 30000);

    setTimeout(() => {
        document.getElementById("sentence22").style.display = "block";
        document.getElementById("sentence22").classList.add("show");
    }, 35000);

const scoreElement = document.getElementById('score');
function getScore() {
  const score = localStorage.getItem("score");
  return score ? parseInt(score, 10) : 0;
};

function updateScore(newScore) {
  localStorage.setItem("score", newScore);
  scoreElement.textContent = newScore;
};

let score = getScore();
scoreElement.textContent = score;

let newScore = getScore();

window.checkAnswer22 = function() {
  var userInput = document.getElementById("textbox").value.trim();
  var sentence22 = document.getElementById("sentence22");
  var correctAnswer = "while";
  var spanClass = userInput === correctAnswer ? 'correct' : 'incorrect';

        if (userInput === correctAnswer) {
            newScore = score + 12; 
            updateScore(newScore);
            sentence22.innerHTML = "public class KeepWalking { <br>" +
                "&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; public static void main(String[] args) { <br>" + 
                "&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; int steps = 10; <br><br>" + 
                    "&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; do {<br>" +
                    "&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; steps++;<br>" +
                    "&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; System.out.println('Keep walking!');<br>" +
                    "&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } <span class='" + spanClass + "'>" + userInput + "</span>(true);<br>" + 
                    "&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; System.out.println('Another room?');<br>" +
                    "&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>" +
                    "}<br>"
                document.getElementById("textbox").disabled = true;
                document.getElementById("submitbutton").disabled = true;
            
                    setTimeout(() => {
                        document.getElementById("sentence23").style.display = "block";
                        document.getElementById("sentence23").classList.add("show");
                    }, 2000);

                    setTimeout(() => {
                        window.location.href = 'https://guillianecantillas.github.io/CodeCraft/Horror%20Files/Ingamehorror6.html';
                    }, 11000);
            
        } else {
            sentence22.innerHTML = "public class KeepWalking { <br>" +
                "&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; public static void main(String[] args) { <br>" + 
                "&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; int steps = 10; <br><br>" + 
                    "&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; do {<br>" +
                    "&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; steps++;<br>" +
                    "&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; System.out.println('Keep walking!');<br>" +
                    "&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } <span class='" + spanClass + "'>" + userInput + "</span>(true);<br>" + 
                    "&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; System.out.println('Another room?');<br>" +
                    "&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>" +
                    "}<br>"
        };
    };

    console.log("Current Score:", score);
    console.log("New Score:", newScore);  


    window.updateSentence22 = function () {
        var userInput = document.getElementById("textbox").value.trim();
        var sentence22 = document.getElementById("sentence22");
        sentence22.innerHTML = "public class KeepWalking { <br>" +
                "&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; public static void main(String[] args) { <br>" + 
                "&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; int steps = 10; <br><br>" + 
                    "&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; do {<br>" +
                    "&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; steps++;<br>" +
                    "&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; System.out.println('Keep walking!');<br>" +
                    "&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } " + userInput + " (true);<br>" + 
                    "&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; System.out.println('Another room?');<br>" +
                    "&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>" +
                    "}<br>"
    };
            window.resetForm = function () {
                document.getElementById("answerForm").reset();
                sentence22.innerHTML = "public class KeepWalking { <br>" +
                "&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; public static void main(String[] args) { <br>" + 
                "&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; int steps = 10; <br><br>" + 
                    "&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; do {<br>" +
                    "&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; steps++;<br>" +
                    "&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; System.out.println('Keep walking!');<br>" +
                    "&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } _____(true);<br>" + 
                    "&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; System.out.println('Another room?');<br>" +
                    "&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>" +
                    "}<br>"
                document.getElementById("textbox").disabled = false;
                document.getElementById("sentence23").style.display = "none";
                document.getElementById("sentence23").classList.remove("show");

                score = 0;
                scoreElement.textContent = score;
            };

            window.undoInput = function () {
                var textbox = document.getElementById("textbox");
                textbox.value = textbox.value.slice(0, -1);
                updateSentence22();
            };
            window.showHint = function () {
            const hintBox = document.getElementById("hintBox");
            const hintText = document.getElementById("hintText");

            if (hintIndex < hints.length) {
                hintText.textContent = hints[hintIndex];
                hintBox.style.display = "block";
                hintIndex++;
            } else {
                hintText.textContent = "No more hints available.";
            }};
        });

</script>
</body>

</html>